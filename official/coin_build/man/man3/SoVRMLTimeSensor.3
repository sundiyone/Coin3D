.TH "SoVRMLTimeSensor" 3 "Sun May 28 2017" "Version 4.0.0a" "Coin" \" -*- nroff -*-
.ad l
.nh
.SH NAME
SoVRMLTimeSensor \- The \fBSoVRMLTimeSensor\fP class is a multi-purpose time event generator\&.
.PP
\fBThe detailed class documentation is taken verbatim from the VRML97 standard (ISO/IEC 14772-1:1997)\&. It is copyright The Web3D Consortium, and is used by permission of the Consortium:\fP  

.SH SYNOPSIS
.br
.PP
.PP
\fC#include <Inventor/VRMLnodes/SoVRMLTimeSensor\&.h>\fP
.PP
Inherits \fBSoNodeEngine\fP\&.
.SS "Public Member Functions"

.in +1c
.ti -1c
.RI "virtual \fBSoType\fP \fBgetTypeId\fP (void) const"
.br
.RI "Returns the type identification of an object derived from a class inheriting \fBSoBase\fP\&. This is used for run-time type checking and 'downward' casting\&. "
.ti -1c
.RI "virtual const \fBSoEngineOutputData\fP * \fBgetOutputData\fP (void) const"
.br
.ti -1c
.RI "\fBSoVRMLTimeSensor\fP (void)"
.br
.ti -1c
.RI "virtual void \fBnotify\fP (\fBSoNotList\fP *list)"
.br
.ti -1c
.RI "virtual void \fBhandleEvent\fP (\fBSoHandleEventAction\fP *action)"
.br
.ti -1c
.RI "virtual void \fBwrite\fP (\fBSoWriteAction\fP *action)"
.br
.in -1c
.SS "Static Public Member Functions"

.in +1c
.ti -1c
.RI "static \fBSoType\fP \fBgetClassTypeId\fP (void)"
.br
.ti -1c
.RI "static void * \fBcreateInstance\fP (void)"
.br
.ti -1c
.RI "static void \fBinitClass\fP (void)"
.br
.in -1c
.SS "Public Attributes"

.in +1c
.ti -1c
.RI "\fBSoSFTime\fP \fBcycleInterval\fP"
.br
.ti -1c
.RI "\fBSoSFBool\fP \fBenabled\fP"
.br
.ti -1c
.RI "\fBSoSFBool\fP \fBloop\fP"
.br
.ti -1c
.RI "\fBSoSFTime\fP \fBstartTime\fP"
.br
.ti -1c
.RI "\fBSoSFTime\fP \fBstopTime\fP"
.br
.ti -1c
.RI "\fBSoEngineOutput\fP \fBcycleTime\fP"
.br
.ti -1c
.RI "\fBSoEngineOutput\fP \fBfraction_changed\fP"
.br
.ti -1c
.RI "\fBSoEngineOutput\fP \fBisActive\fP"
.br
.ti -1c
.RI "\fBSoEngineOutput\fP \fBtime\fP"
.br
.in -1c
.SS "Protected Member Functions"

.in +1c
.ti -1c
.RI "virtual const \fBSoFieldData\fP * \fBgetFieldData\fP (void) const"
.br
.ti -1c
.RI "virtual \fB~SoVRMLTimeSensor\fP ()"
.br
.ti -1c
.RI "virtual void \fBinputChanged\fP (\fBSoField\fP *whichInput)"
.br
.in -1c
.SS "Static Protected Member Functions"

.in +1c
.ti -1c
.RI "static const \fBSoFieldData\fP ** \fBgetFieldDataPtr\fP (void)"
.br
.ti -1c
.RI "static const \fBSoEngineOutputData\fP ** \fBgetOutputDataPtr\fP (void)"
.br
.in -1c
.SS "Additional Inherited Members"
.SH "Detailed Description"
.PP 
The \fBSoVRMLTimeSensor\fP class is a multi-purpose time event generator\&.
.PP
\fBThe detailed class documentation is taken verbatim from the VRML97 standard (ISO/IEC 14772-1:1997)\&. It is copyright The Web3D Consortium, and is used by permission of the Consortium:\fP 


.PP
.nf
TimeSensor {
  exposedField SFTime   cycleInterval 1       # (0,inf)
  exposedField SFBool   enabled       TRUE
  exposedField SFBool   loop          FALSE
  exposedField SFTime   startTime     0       # (-inf,inf)
  exposedField SFTime   stopTime      0       # (-inf,inf)
  eventOut     SFTime   cycleTime
  eventOut     SFFloat  fraction_changed      # [0, 1]
  eventOut     SFBool   isActive
  eventOut     SFTime   time
}

.fi
.PP
.PP
TimeSensor nodes generate events as time passes\&. TimeSensor nodes can be used for many purposes including:
.PP
.IP "\(bu" 2
driving continuous simulations and animations;
.IP "\(bu" 2
controlling periodic activities (e\&.g\&., one per minute);
.IP "\(bu" 2
initiating single occurrence events such as an alarm clock\&.
.PP
.PP
The TimeSensor node contains two discrete eventOuts: \fIisActive\fP and \fIcycleTime\fP\&. The \fIisActive\fP eventOut sends TRUE when the TimeSensor node begins running, and FALSE when it stops running\&. The \fIcycleTime\fP eventOut sends a time event at \fIstartTime\fP and at the beginning of each new cycle (useful for synchronization with other time-based objects)\&. The remaining eventOuts generate continuous events\&. The \fIfraction_changed\fP eventOut, an SFFloat in the closed interval [0,1], sends the completed fraction of the current cycle\&. The \fItime\fP eventOut sends the absolute time for a given simulation tick\&.
.PP
If the enabled exposedField is TRUE, the TimeSensor node is enabled and may be running\&. If a set_enabled FALSE event is received while the TimeSensor node is running, the sensor performs the following actions:
.PP
.IP "\(bu" 2
evaluates and sends all relevant outputs;
.IP "\(bu" 2
sends a FALSE value for isActive;
.IP "\(bu" 2
disables itself\&.
.PP
.PP
Events on the exposedFields of the TimeSensor node (e\&.g\&., \fIset_startTime\fP) are processed and their corresponding eventOuts (e\&.g\&., startTime_changed) are sent regardless of the state of the enabled field\&. The remaining discussion assumes enabled is TRUE\&.
.PP
The e\\ loop, \fIstartTime\fP, and \fIstopTime\fP exposedFields and the isActive eventOut and their effects on the TimeSensor node are discussed in detail in 4\&.6\&.9, Time-dependent nodes (http://www.web3d.org/x3d/specifications/vrml/ISO-IEC-14772-VRML97/part1/concepts.html#4.6.9)\&. The 'cycle' of a TimeSensor node lasts for cycleInterval seconds\&. The value of cycleInterval shall be greater than zero\&.
.PP
A cycleTime eventOut can be used for synchronization purposes such as sound with animation\&. The value of a cycleTime eventOut will be equal to the time at the beginning of the current cycle\&. A cycleTime eventOut is generated at the beginning of every cycle, including the cycle starting at startTime\&. The first cycleTime eventOut for a TimeSensor node can be used as an alarm (single pulse at a specified time)\&.
.PP
When a TimeSensor node becomes active, it generates an isActive = TRUE event and begins generating time, fraction_changed, and cycleTime events which may be routed to other nodes to drive animation or simulated behaviours\&. The behaviour at read time is described below\&. The time event sends the absolute time for a given tick of the TimeSensor node (time fields and events represent the number of seconds since midnight GMT January 1, 1970)\&.
.PP
fraction_changed events output a floating point value in the closed interval [0, 1]\&. At startTime the value of fraction_changed is 0\&. After startTime, the value of fraction_changed in any cycle will progress through the range (0\&.0, 1\&.0]\&. At startTime + N cycleInterval, for N = 1, 2, \&.\&.\&., that is, at the end of every cycle, the value of fraction_changed is 1\&.
.PP
Let \fInow\fP represent the time at the current simulation tick\&. Then the time and fraction_changed eventOuts can then be computed as:
.PP
.PP
.nf
time = now 
temp = (now - startTime) / cycleInterval 
f = fractionalPart(temp) 
if (f == 0.0 && now > startTime) fraction_changed = 1.0 
else fraction_changed = f 
.fi
.PP
.PP
where fractionalPart(x) is a function that returns the fractional part, (that is, the digits to the right of the decimal point), of a nonnegative floating point number\&.
.PP
A TimeSensor node can be set up to be active at read time by specifying loop TRUE (not the default) and stopTime less than or equal to startTime (satisfied by the default values)\&. The time events output absolute times for each tick of the TimeSensor node simulation\&. The time events shall start at the first simulation tick greater than or equal to startTime\&. time events end at stopTime, or at startTime + N cycleInterval for some positive integer value of N, or loop forever depending on the values of the other fields\&. An active TimeSensor node shall stop at the first simulation tick when now >= stopTime > startTime\&.
.PP
No guarantees are made with respect to how often a TimeSensor node generates time events, but a TimeSensor node shall generate events at least at every simulation tick\&. TimeSensor nodes are guaranteed to generate final time and fraction_changed events\&. If loop is FALSE at the end of the Nth cycleInterval and was TRUE at startTime + M cycleInterval for all 0 < M < N, the final time event will be generated with a value of (startTime + N cycleInterval) or stopTime (if stopTime > startTime), whichever value is less\&. If loop is TRUE at the completion of every cycle, the final event is generated as evaluated at stopTime (if stopTime > startTime) or never\&.
.PP
An active TimeSensor node ignores set_cycleInterval and set_startTime events\&. An active TimeSensor node also ignores set_stopTime events for set_stopTime less than or equal to startTime\&. For example, if a set_startTime event is received while a TimeSensor node is active, that set_startTime event is ignored (the startTime field is not changed, and a startTime_changed eventOut is not generated)\&. If an active TimeSensor node receives a set_stopTime event that is less than the current time, and greater than startTime, it behaves as if the stopTime requested is the current time and sends the final events based on the current time (note that stopTime is set as specified in the eventIn)\&.
.PP
A TimeSensor read from a VRML file shall generate isActive TRUE, time and fraction_changed events if the sensor is enabled and all conditions for a TimeSensor to be active are met\&. 
.SH "Constructor & Destructor Documentation"
.PP 
.SS "SoVRMLTimeSensor::SoVRMLTimeSensor (void)"
Constructor\&. 
.SS "SoVRMLTimeSensor::~SoVRMLTimeSensor ()\fC [protected]\fP, \fC [virtual]\fP"
Destructor\&. 
.SH "Member Function Documentation"
.PP 
.SS "\fBSoType\fP SoVRMLTimeSensor::getTypeId (void) const\fC [virtual]\fP"

.PP
Returns the type identification of an object derived from a class inheriting \fBSoBase\fP\&. This is used for run-time type checking and 'downward' casting\&. Usage example:
.PP
.PP
.nf
void foo(SoNode * node)
{
  if (node->getTypeId() == SoFile::getClassTypeId()) {
    SoFile * filenode = (SoFile *)node;  // safe downward cast, knows the type
  }
}
.fi
.PP
.PP
For application programmers wanting to extend the library with new nodes, engines, nodekits, draggers or others: this method needs to be overridden in \fIall\fP subclasses\&. This is typically done as part of setting up the full type system for extension classes, which is usually accomplished by using the pre-defined macros available through for instance \fBInventor/nodes/SoSubNode\&.h\fP (SO_NODE_INIT_CLASS and SO_NODE_CONSTRUCTOR for node classes), \fBInventor/engines/SoSubEngine\&.h\fP (for engine classes) and so on\&.
.PP
For more information on writing Coin extensions, see the class documentation of the toplevel superclasses for the various class groups\&. 
.PP
Implements \fBSoBase\fP\&.
.SS "const \fBSoFieldData\fP * SoVRMLTimeSensor::getFieldData (void) const\fC [protected]\fP, \fC [virtual]\fP"
Returns a pointer to the class-wide field data storage object for this instance\&. If no fields are present, returns \fCNULL\fP\&. 
.PP
Reimplemented from \fBSoFieldContainer\fP\&.
.SS "const \fBSoEngineOutputData\fP * SoVRMLTimeSensor::getOutputData (void) const\fC [virtual]\fP"
\fIThis API member is considered internal to the library, as it is not likely to be of interest to the application programmer\&.\fP 
.PP
Implements \fBSoNodeEngine\fP\&.
.SS "void SoVRMLTimeSensor::notify (\fBSoNotList\fP * l)\fC [virtual]\fP"
Notifies all auditors for this instance when changes are made\&. 
.PP
Reimplemented from \fBSoNodeEngine\fP\&.
.SS "void SoVRMLTimeSensor::handleEvent (\fBSoHandleEventAction\fP * action)\fC [virtual]\fP"
Action method for \fBSoHandleEventAction\fP\&.
.PP
Inspects the event data from \fIaction\fP, and processes it if it is something which this node should react to\&.
.PP
Nodes influencing relevant state variables for how event handling is done also overrides this method\&. 
.PP
Reimplemented from \fBSoNode\fP\&.
.SS "void SoVRMLTimeSensor::write (\fBSoWriteAction\fP * action)\fC [virtual]\fP"
Action method for \fBSoWriteAction\fP\&.
.PP
Writes out a node object, and any connected nodes, engines etc, if necessary\&. 
.PP
Reimplemented from \fBSoNode\fP\&.
.SS "void SoVRMLTimeSensor::inputChanged (\fBSoField\fP * which)\fC [protected]\fP, \fC [virtual]\fP"
Called when an input is changed\&. The default method does nothing, but subclasses may override this method to do the The Right Thing when a specific field is changed\&. 
.PP
Reimplemented from \fBSoNodeEngine\fP\&.
.SH "Member Data Documentation"
.PP 
.SS "\fBSoSFTime\fP SoVRMLTimeSensor::cycleInterval"
The cycle interval\&. Default value is 1\&. Must be > 0\&. 
.SS "\fBSoSFBool\fP SoVRMLTimeSensor::enabled"
Used to enable/disable timer\&. Default value is TRUE\&. 
.SS "\fBSoSFBool\fP SoVRMLTimeSensor::loop"
TRUE if timer should loop\&. Default value is FALSE\&. 
.SS "\fBSoSFTime\fP SoVRMLTimeSensor::startTime"
The timer start time\&. Default value is 0\&.0\&. 
.SS "\fBSoSFTime\fP SoVRMLTimeSensor::stopTime"
The timer stop time\&. Default value is 0\&.0\&. 
.SS "\fBSoEngineOutput\fP SoVRMLTimeSensor::cycleTime"
An eventOut that is sent when a new cycle is started\&. 
.SS "\fBSoEngineOutput\fP SoVRMLTimeSensor::fraction_changed"
An eventOut that is sent for each tick, containing a number between 0 and 1\&. 
.SS "\fBSoEngineOutput\fP SoVRMLTimeSensor::isActive"
An eventOut that is sent when the timer is enabled/disabled\&. 
.SS "\fBSoEngineOutput\fP SoVRMLTimeSensor::time"
An eventOut that is sent for each tick, containing the current time\&. 

.SH "Author"
.PP 
Generated automatically by Doxygen for Coin from the source code\&.
