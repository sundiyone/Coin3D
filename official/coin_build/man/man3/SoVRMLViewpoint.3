.TH "SoVRMLViewpoint" 3 "Sun May 28 2017" "Version 4.0.0a" "Coin" \" -*- nroff -*-
.ad l
.nh
.SH NAME
SoVRMLViewpoint \- The \fBSoVRMLViewpoint\fP class is a perspective camera class\&.
.PP
\fBThe detailed class documentation is taken verbatim from the VRML97 standard (ISO/IEC 14772-1:1997)\&. It is copyright The Web3D Consortium, and is used by permission of the Consortium:\fP  

.SH SYNOPSIS
.br
.PP
.PP
\fC#include <Inventor/VRMLnodes/SoVRMLViewpoint\&.h>\fP
.PP
Inherits \fBSoNode\fP\&.
.SS "Public Member Functions"

.in +1c
.ti -1c
.RI "virtual \fBSoType\fP \fBgetTypeId\fP (void) const"
.br
.RI "Returns the type identification of an object derived from a class inheriting \fBSoBase\fP\&. This is used for run-time type checking and 'downward' casting\&. "
.ti -1c
.RI "\fBSoVRMLViewpoint\fP (void)"
.br
.ti -1c
.RI "virtual void \fBGLRender\fP (\fBSoGLRenderAction\fP *action)"
.br
.in -1c
.SS "Static Public Member Functions"

.in +1c
.ti -1c
.RI "static \fBSoType\fP \fBgetClassTypeId\fP (void)"
.br
.ti -1c
.RI "static void \fBinitClass\fP (void)"
.br
.in -1c
.SS "Public Attributes"

.in +1c
.ti -1c
.RI "\fBSoSFVec3f\fP \fBposition\fP"
.br
.ti -1c
.RI "\fBSoSFRotation\fP \fBorientation\fP"
.br
.ti -1c
.RI "\fBSoSFFloat\fP \fBfieldOfView\fP"
.br
.ti -1c
.RI "\fBSoSFString\fP \fBdescription\fP"
.br
.ti -1c
.RI "\fBSoSFBool\fP \fBjump\fP"
.br
.in -1c
.SS "Protected Member Functions"

.in +1c
.ti -1c
.RI "virtual const \fBSoFieldData\fP * \fBgetFieldData\fP (void) const"
.br
.ti -1c
.RI "virtual \fB~SoVRMLViewpoint\fP ()"
.br
.in -1c
.SS "Static Protected Member Functions"

.in +1c
.ti -1c
.RI "static const \fBSoFieldData\fP ** \fBgetFieldDataPtr\fP (void)"
.br
.in -1c
.SS "Protected Attributes"

.in +1c
.ti -1c
.RI "\fBSoSFBool\fP \fBset_bind\fP"
.br
.ti -1c
.RI "\fBSoSFTime\fP \fBbindTime\fP"
.br
.ti -1c
.RI "\fBSoSFBool\fP \fBisBound\fP"
.br
.in -1c
.SS "Additional Inherited Members"
.SH "Detailed Description"
.PP 
The \fBSoVRMLViewpoint\fP class is a perspective camera class\&.
.PP
\fBThe detailed class documentation is taken verbatim from the VRML97 standard (ISO/IEC 14772-1:1997)\&. It is copyright The Web3D Consortium, and is used by permission of the Consortium:\fP 


.PP
.nf
Viewpoint {
  eventIn      SFBool     set_bind
  exposedField SFFloat    fieldOfView    0.785398  # (0,inf)
  exposedField SFBool     jump           TRUE
  exposedField SFRotation orientation    0 0 1 0   # [-1,1],(-inf,inf)
  exposedField SFVec3f    position       0 0 10    # (-inf,inf)
  field        SFString   description    ""
  eventOut     SFTime     bindTime
  eventOut     SFBool     isBound
}

.fi
.PP
.PP
The Viewpoint node defines a specific location in the local coordinate system from which the user may view the scene\&. Viewpoint nodes are bindable children nodes (see 4\&.6\&.10, Bindable children nodes: http://www.web3d.org/x3d/specifications/vrml/ISO-IEC-14772-VRML97/part1/concepts.html#4.6.10) and thus there exists a Viewpoint node stack in the browser in which the top-most Viewpoint node on the stack is the currently active Viewpoint node\&. If a TRUE value is sent to the set_bind eventIn of a Viewpoint node, it is moved to the top of the Viewpoint node stack and activated\&. When a Viewpoint node is at the top of the stack, the user's view is conceptually re-parented as a child of the Viewpoint node\&. All subsequent changes to the Viewpoint node's coordinate system change the user's view (e\&.g\&., changes to any ancestor transformation nodes or to the Viewpoint node's position or orientation fields)\&. Sending a set_bind FALSE event removes the Viewpoint node from the stack and produces isBound FALSE and bindTime events\&. If the popped Viewpoint node is at the top of the viewpoint stack, the user's view is re-parented to the next entry in the stack\&. More details on binding stacks can be found in 4\&.6\&.10, Bindable children nodes (http://www.web3d.org/x3d/specifications/vrml/ISO-IEC-14772-VRML97/part1/concepts.html#4.6.10)\&. When a Viewpoint node is moved to the top of the stack, the existing top of stack Viewpoint node sends an isBound FALSE event and is pushed down the stack\&.
.PP
An author can automatically move the user's view through the world by binding the user to a Viewpoint node and then animating either the Viewpoint node or the transformations above it\&. Browsers shall allow the user view to be navigated relative to the coordinate system defined by the Viewpoint node (and the transformations above it) even if the Viewpoint node or its ancestors' transformations are being animated\&.
.PP
The \fIbindTime\fP eventOut sends the time at which the Viewpoint node is bound or unbound\&. This can happen:
.PP
.IP "\(bu" 2
during loading;
.IP "\(bu" 2
when a set_bind event is sent to the Viewpoint node;
.IP "\(bu" 2
when the browser binds to the Viewpoint node through its user interface described below\&.
.PP
.PP
The position and orientation fields of the Viewpoint node specify relative locations in the local coordinate system\&. Position is relative to the coordinate system's origin (0,0,0), while orientation specifies a rotation relative to the default orientation\&. In the default position and orientation, the viewer is on the Z-axis looking down the -Z-axis toward the origin with +X to the right and +Y straight up\&. Viewpoint nodes are affected by the transformation hierarchy\&.
.PP
Navigation types (see \fBSoVRMLNavigationInfo\fP) that require a definition of a down vector (e\&.g\&., terrain following) shall use the negative Y-axis of the coordinate system of the currently bound Viewpoint node\&. Likewise, navigation types that require a definition of an up vector shall use the positive Y-axis of the coordinate system of the currently bound Viewpoint node\&. The orientation field of the Viewpoint node does not affect the definition of the down or up vectors\&. This allows the author to separate the viewing direction from the gravity direction\&.
.PP
The jump field specifies whether the user's view 'jumps' to the position and orientation of a bound Viewpoint node or remains unchanged\&. This jump is instantaneous and discontinuous in that no collisions are performed and no ProximitySensor nodes are checked in between the starting and ending jump points\&. If the user's position before the jump is inside a ProximitySensor the exitTime of that sensor shall send the same timestamp as the bind eventIn\&. Similarly, if the user's position after the jump is inside a ProximitySensor the enterTime of that sensor shall send the same timestamp as the bind eventIn\&. Regardless of the value of jump at bind time, the relative viewing transformation between the user's view and the current Viewpoint node shall be stored with the current Viewpoint node for later use when un-jumping (i\&.e\&., popping the Viewpoint node binding stack from a Viewpoint node with jump TRUE)\&. The following summarizes the bind stack rules (see 4\&.6\&.10, Bindable children nodes: http://www.web3d.org/x3d/specifications/vrml/ISO-IEC-14772-VRML97/part1/concepts.html#4.6.10) with additional rules regarding Viewpoint nodes (displayed in boldface type):
.PP
.IP "\(bu" 2
During read, the first encountered Viewpoint node is bound by pushing it to the top of the Viewpoint node stack\&. If a Viewpoint node name is specified in the URL that is being read, this named Viewpoint node is considered to be the first encountered Viewpoint node\&. Nodes contained within \fBSoVRMLInline\fP nodes, within the strings passed to the Browser\&.createVrmlFromString() method, or within files passed to the Browser\&.createVrmlFromURL() method (see 4\&.12\&.10, Browser script interface: http://www.web3d.org/x3d/specifications/vrml/ISO-IEC-14772-VRML97/part1/concepts.html#4.12.10) are not candidates for the first encountered Viewpoint node\&. The first node within a prototype instance is a valid candidate for the first encountered Viewpoint node\&. The first encountered Viewpoint node sends an isBound TRUE event\&.
.IP "\(bu" 2
When a set_bind TRUE event is received by a Viewpoint node,
.IP "  \(bu" 4
If it is not on the top of the stack: The relative transformation from the current top of stack Viewpoint node to the user's view is stored with the current top of stack Viewpoint node\&. The current top of stack node sends an isBound FALSE event\&. The new node is moved to the top of the stack and becomes the currently bound Viewpoint node\&. The new Viewpoint node (top of stack) sends an isBound TRUE event\&. If jump is TRUE for the new Viewpoint node, the user's view is instantaneously 'jumped' to match the values in the position and orientation fields of the new Viewpoint node\&.
.IP "  \(bu" 4
If the node is already at the top of the stack, this event has no affect\&.
.PP

.IP "\(bu" 2
When a set_bind FALSE event is received by a Viewpoint node in the stack, it is removed from the stack\&. If it was on the top of the stack,
.IP "  \(bu" 4
it sends an isBound FALSE event,
.IP "  \(bu" 4
the next node in the stack becomes the currently bound Viewpoint node (i\&.e\&., pop) and issues an isBound TRUE event,
.IP "  \(bu" 4
if its jump field value is TRUE, the user's view is instantaneously 'jumped' to the position and orientation of the next Viewpoint node in the stack with the stored relative transformation of this next Viewpoint node applied\&.
.PP

.IP "\(bu" 2
If a set_bind FALSE event is received by a node not in the stack, the event is ignored and isBound events are not sent\&.
.IP "\(bu" 2
When a node replaces another node at the top of the stack, the isBound TRUE and FALSE events from the two nodes are sent simultaneously (i\&.e\&., with identical timestamps)\&.
.IP "\(bu" 2
If a bound node is deleted, it behaves as if it received a set_bind FALSE event\&.
.PP
.PP
The jump field may change after a Viewpoint node is bound\&. The rules described above still apply\&. If jump was TRUE when the Viewpoint node is bound, but changed to FALSE before the set_bind FALSE is sent, the Viewpoint node does not un-jump during unbind\&. If jump was FALSE when the Viewpoint node is bound, but changed to TRUE before the set_bind FALSE is sent, the Viewpoint node does perform the un-jump during unbind\&.
.PP
Note that there are two other mechanisms that result in the binding of a new Viewpoint:
.PP
.IP "\(bu" 2
An Anchor node's url field specifies a '#ViewpointName'\&.
.IP "\(bu" 2
A script invokes the loadURL() method and the URL argument specifies a '#ViewpointName'\&.
.PP
.PP
Both of these mechanisms override the jump field value of the specified Viewpoint node (#ViewpointName) and assume that jump is TRUE when binding to the new Viewpoint\&. The behaviour of the viewer transition to the newly bound Viewpoint depends on the currently bound NavigationInfo node's type field value (see \fBSoVRMLNavigationInfo\fP)\&.
.PP
The \fIfieldOfView\fP field specifies a preferred minimum viewing angle from this viewpoint in radians\&. A small field of view roughly corresponds to a telephoto lens; a large field of view roughly corresponds to a wide-angle lens\&. The field of view shall be greater than zero and smaller than \&. The value of fieldOfView represents the minimum viewing angle in any direction axis perpendicular to the view\&. For example, a browser with a rectangular viewing projection shall have the following relationship:
.PP
.PP
.nf
    display width    tan(FOVhorizontal/2)
    -------------- = -----------------
    display height   tan(FOVvertical/2)
.fi
.PP
.PP
where the smaller of display width or display height determines which angle equals the fieldOfView (the larger angle is computed using the relationship described above)\&. The larger angle shall not exceed and may force the smaller angle to be less than fieldOfView in order to sustain the aspect ratio\&.
.PP
The description field specifies a textual description of the Viewpoint node\&. This may be used by browser-specific user interfaces\&. If a Viewpoint's description field is empty it is recommended that the browser not present this Viewpoint in its browser-specific user interface\&.
.PP
The URL syntax '\&.\&.\&./scene\&.wrl#ViewpointName' specifies the user's initial view when loading 'scene\&.wrl' to be the first Viewpoint node in the VRML file that appears as DEF ViewpointName Viewpoint {\&.\&.\&.}\&. This overrides the first Viewpoint node in the VRML file as the initial user view, and a set_bind TRUE message is sent to the Viewpoint node named 'ViewpointName'\&. If the Viewpoint node named 'ViewpointName' is not found, the browser shall use the first Viewpoint node in the VRML file (i\&.e\&. the normal default behaviour)\&. The URL syntax '#ViewpointName' (i\&.e\&. no file name) specifies a viewpoint within the existing VRML file\&. If this URL is loaded (e\&.g\&. Anchor node's url field or loadURL() method is invoked by a Script node), the Viewpoint node named 'ViewpointName' is bound (a set_bind TRUE event is sent to this Viewpoint node)\&.
.PP
The results are undefined if a Viewpoint node is bound and is the child of an LOD, Switch, or any node or prototype that disables its children\&. If a Viewpoint node is bound that results in collision with geometry, the browser shall perform its self-defined navigation adjustments as if the user navigated to this point (see \fBSoVRMLCollision\fP)\&. 
.SH "Constructor & Destructor Documentation"
.PP 
.SS "SoVRMLViewpoint::SoVRMLViewpoint (void)"
Constructor\&. 
.SS "SoVRMLViewpoint::~SoVRMLViewpoint ()\fC [protected]\fP, \fC [virtual]\fP"
Destructor\&. 
.SH "Member Function Documentation"
.PP 
.SS "\fBSoType\fP SoVRMLViewpoint::getTypeId (void) const\fC [virtual]\fP"

.PP
Returns the type identification of an object derived from a class inheriting \fBSoBase\fP\&. This is used for run-time type checking and 'downward' casting\&. Usage example:
.PP
.PP
.nf
void foo(SoNode * node)
{
  if (node->getTypeId() == SoFile::getClassTypeId()) {
    SoFile * filenode = (SoFile *)node;  // safe downward cast, knows the type
  }
}
.fi
.PP
.PP
For application programmers wanting to extend the library with new nodes, engines, nodekits, draggers or others: this method needs to be overridden in \fIall\fP subclasses\&. This is typically done as part of setting up the full type system for extension classes, which is usually accomplished by using the pre-defined macros available through for instance \fBInventor/nodes/SoSubNode\&.h\fP (SO_NODE_INIT_CLASS and SO_NODE_CONSTRUCTOR for node classes), \fBInventor/engines/SoSubEngine\&.h\fP (for engine classes) and so on\&.
.PP
For more information on writing Coin extensions, see the class documentation of the toplevel superclasses for the various class groups\&. 
.PP
Implements \fBSoBase\fP\&.
.SS "const \fBSoFieldData\fP * SoVRMLViewpoint::getFieldData (void) const\fC [protected]\fP, \fC [virtual]\fP"
Returns a pointer to the class-wide field data storage object for this instance\&. If no fields are present, returns \fCNULL\fP\&. 
.PP
Reimplemented from \fBSoFieldContainer\fP\&.
.SS "void SoVRMLViewpoint::GLRender (\fBSoGLRenderAction\fP * action)\fC [virtual]\fP"
Action method for the \fBSoGLRenderAction\fP\&.
.PP
This is called during rendering traversals\&. Nodes influencing the rendering state in any way or who wants to throw geometry primitives at OpenGL overrides this method\&. 
.PP
Reimplemented from \fBSoNode\fP\&.
.SH "Member Data Documentation"
.PP 
.SS "\fBSoSFVec3f\fP SoVRMLViewpoint::position"
The viewpoint position\&. Default value is (0, 0, 0)\&. 
.SS "\fBSoSFRotation\fP SoVRMLViewpoint::orientation"
The camera orientation\&. By default the camera is aligned along the negative z-axis\&. 
.SS "\fBSoSFFloat\fP SoVRMLViewpoint::fieldOfView"
Field of view\&. Default value is PI/4\&. 
.SS "\fBSoSFString\fP SoVRMLViewpoint::description"
A textual viewpoint description\&. Is empty by default\&. 
.SS "\fBSoSFBool\fP SoVRMLViewpoint::jump"
Jump TRUE/FALSE\&. 
.SS "\fBSoSFBool\fP SoVRMLViewpoint::set_bind\fC [protected]\fP"
An eventIn that is used to bind the viewpoint\&. 
.SS "\fBSoSFTime\fP SoVRMLViewpoint::bindTime\fC [protected]\fP"
An event out that is sent when the viewpoint is bound\&. 
.SS "\fBSoSFBool\fP SoVRMLViewpoint::isBound\fC [protected]\fP"
An event out that is sent when the viewpoint is bound/unbound\&. 

.SH "Author"
.PP 
Generated automatically by Doxygen for Coin from the source code\&.
